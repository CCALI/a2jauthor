
name: CI
  
uses: voxmedia/github-action-slack-notify-build@v1
with:
  channel: app-alerts
  status: STARTED
  color: good
env:
  SLACK_BOT_TOKEN: ${{ secrets.SLACK_NOTIFICATIONS_BOT_TOKEN }}
  


on:
  pull_request:
  push:

  - name: Notify slack success
    if: success()
    id: slack # IMPORTANT: reference this step ID value in future Slack steps
    env:
      SLACK_BOT_TOKEN: ${{ secrets.SLACK_NOTIFICATIONS_BOT_TOKEN }}
    uses: voxmedia/github-action-slack-notify-build@v1
    with:
      channel: app-alerts
      status: STARTING
      color: warning

  - name: Run tests
  # ... your test step here
  
  - name: Notify slack success
    if: success()
    env:
      SLACK_BOT_TOKEN: ${{ secrets.SLACK_NOTIFICATIONS_BOT_TOKEN }}
    uses: voxmedia/github-action-slack-notify-build@v1
    with:
      # Updates existing message from the first step
      message_id: ${{ steps.slack.outputs.message_id }}
      channel: app-alerts
      status: SUCCESS
      color: good
