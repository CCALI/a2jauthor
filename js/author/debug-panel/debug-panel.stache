<can-import from="caja/author/debug-panel/variables/"/>
<can-import from="caja/author/debug-panel/evaluate/"/>
<can-import from="caja/author/debug-panel/debug-panel.less!"/>

{{#if variables.length}}
  <author-variables-table vm:interview:bind="interview" vm:variables:bind="variables"/>
{{/if}}


<div id="viewer-logic-form" class="bootstrap-styles">
  <div id="logic-trace-panel" class="tracepanel">
    <button id="clear-log-button" on:el:click="clearTraceLogicList()" class="btn btn-default btn-sm"><span class="glyphicon-trash"></span> Clear Log</button>
    <ol id="tracer" contentEditable="true">
      {{#each traceLogicList}}
        <li>Page <span class="page">{{pageName}}</span></li>
        {{#each messages}}
          <li>
          {{#each fragments}}
            {{#if format}}
              <span class="{{traceLogicFormat(format, msg)}}">{{traceLogicMessage(format, msg)}}</span>
            {{else}}
              {{msg}}
            {{/if}}
          {{/each}}
          </li>
        {{/each}}
      {{/each}}
    </ol>
  </div>


  <div class="form-inline immediatepanel">
    <author-evaluate-panel vm:traceLogic:bind="traceLogic" vm:interview:bind="interview"></author-evaluate-panel>
  </div>
</div>
