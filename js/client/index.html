<!doctype html>
<html>
	<head>
		<script src="lib/modernizr/modernizr.js"></script>
		<script src="lib/jquery/dist/jquery.js"></script>
		<script src="resources/jquerypp.cookie.js"></script>
	</head>

	<body>
		<script type="text/javascript">
			var config = {
				// Override these Javascript variables as needed to setup default interview/answer file loading.

				// templateURL points to the interview XML. This demo just passes what's on the querystring.
				//templateURL: 'sample/Guide.xml',
				templateURL: '/interview.xml',

				// fileDataURL is the folder of interview's assets, usually the folder of the interview XML
				fileDataURL: 'images/',

				// getDataURL loads an answer file at start, used for RESUME
				//getDataURL: 'sample/SampleShortInterviewAnswers.anx',
				getDataURL: '/resume.aspx',

				// setDataURL saves answer file and leaves the viewer (its response replaces viewer's frame)
				setDataURL: '/save.aspx',

				// autoSetDataURL silently saves answer file periodically. (Optional).
				autoSetDataURL: '/autosave.aspx',

				// exitURL replaces the viewer's frame with this URL on EXIT (user 'fails' interview)
				exitURL: 'https://google.com', //"A2J_ViewerExit.php?interviewID=<?=$gid?>",

				// logURL accepts silent logging data.
				// E.g., https://lawhelpinteractive.org/a2j_logging
				logURL: '',

				// errRepURL accepts user's public submission of an error to which they can add an optional comment.
				// E.g., "https://lawhelpinteractive.org/problem_reporting_form",
				errRepURL: ''
			};

			if(1 || Modernizr.touch && !$.cookie('useDesktop')) {
				//This is a touch enabled device, we'll redirect to mobile site.

				//desktopURL will redirect a mobile user back to
				//the desktop landing page.
				config.desktopURL = 'index.html';
				window.location = 'mobile.dev.html?' + $.param(config);
			}
			else {
				A2JViewerFrame = document.getElementById('A2JViewerFrame');
				A2JViewerFrame.contentWindow.postMessage(config, '*');
			}
		</script>
	</body>
</html>
