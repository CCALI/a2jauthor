<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
	CALI Author 5 / A2J Author 5 (CAJA) 正义 * công lý * правосудие
	All Contents Copyright The Center for Computer-Assisted Legal Instruction
-->
<HTML xmlns="http://www.w3.org/1999/xhtml">
<title>CKEditor UI Tests</title>
<link href="../viewer/viewer.jquery-ui.css" rel="stylesheet" type="text/css" />
<link href="../viewer/jquery-ui.extra.css"  rel="stylesheet" type="text/css" title="style" />
<link href="../viewer/A2J_Viewer.css" rel="stylesheet" type="text/css" />
<script src="../viewer/jquery.1.8.2.min.js" type="text/javascript"></script>
<script src="../viewer/jquery.ui.1.9.1.min.js" type="text/javascript"></script>
<script src="http://cdn.ckeditor.com/4.4.3/standard/ckeditor.js"></script>
<script src="http://cdn.ckeditor.com/4.4.3/standard/adapters/jquery.js"></script>

<style type="text/css">
<!--
body,div {
	background-color: #111;
	color:#fff;
	margin: 10px;
}
.cke_editable {
	background-color: #333;
}
div {
	pading: 2em;
	border: ridge;
}
-->
</style>


<script type='text/javascript'>  
// 2014-07-21 Testing CKEditor Dynamic edit areas
function ready()
{
	if (0) {
	CKEDITOR.config.toolbar = [
    { name: 'clipboard', items: [ 'Cut', 'Copy', 'Paste', 'PasteText', 'PasteFromWord', '-', 'Undo', 'Redo' ] },
    '/',
    { name: 'basicstyles', items: [ 'Bold', 'Italic' ] }
	];
	}
	
	$('#save').button({label:'Save'}).click(function()
	{
		$('.editor').each(function(){
			if ($(this).hasClass('cke_editable')) {
				var editor = $(this).ckeditor().editor;
				if (editor.checkDirty()) {
					console.log('Editor for '+$(this).attr('name')+' edited');
					console.log('Data: '+ editor.getData());
			}

			}
		})
		
	});
	
	$('#load').button({label:'Load'}).click(function()
	{
		$('.questions').empty();
		for (var q=1;q<= 25 ;q++)
		{
//editor question cke_editable cke_editable_inline cke_contents_ltr cke_show_borders
		$('.questions').append(
				  '<fieldset><legend>Question '+q + '</legend>'
					 +'<div contentEditable=true class="editor question  " name="Q'+q+'"><p>Question content for question '+q+'</p></div>'
					  +'<div contentEditable=true class="editor help  " name="QH'+q+'"><p>Help content for question  '+q+'</p></div>'
				  +'</fieldset>');
		}
		//$( '.editor' ).ckeditor();
		$( '.editor' ).click(function(){
			$(this).ckeditor();
		})
	});
}


$(document).ready(ready);
</script>

 
<BODY>
	<div class="a2jv">
	<button id="load" />
	<button id="save" />
	</div>
<div class="questions">
 questions

</div>
</BODY>
</HTML>
