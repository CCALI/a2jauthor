<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
	A2J Author 5 * Justice * 正义 * công lý * правосудие
	All Contents Copyright The Center for Computer-Assisted Legal Instruction
	5/15/2012 SJG Unit text for CAJA Script
-->
<HTML xmlns="http://www.w3.org/1999/xhtml">
<!-- DW6 -->
<HEAD> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>CALI Author Script Tester</title> 

<link  href="../viewer/a2j-jquery-ui.css" rel="stylesheet" type="text/css" media="all" />
<link  href="../viewer/jquery.ui.custom.css" rel="stylesheet" type="text/css" />
<link  href="../author/A2J_Author.css" rel="stylesheet" type="text/css" />


<script  src="../viewer/jquery.1.8.2.min.js" type="text/javascript"></script>
<script xsrc="../viewer/jshashtable-2.1.js" type="text/javascript"></script>
<script xsrc="../viewer/jquery.numberformatter-1.2.1.jsmin.js" type="text/javascript"></script>

<script src="../viewer/A2J_Shared.js" type="text/javascript"></script>
<script src="../viewer/A2J_SharedSus.js" type="text/javascript"></script>
<script src="../viewer/A2J_Languages.js" type="text/javascript"></script>
<script src="../viewer/A2J_Types.js" type="text/javascript"></script>
<script src="../viewer/A2J_Logic.js" type="text/javascript"></script>

<script src="CAJA_Test_Script.js" type="text/javascript"></script>
<link  href="CAJA_Test_Script.css" rel="stylesheet" type="text/css" />


<style type="text/css">

</style>


</HEAD>


<BODY   >
 

<h1> A2J Author Script Tester</h1> 
<ul>
	<li> Unit text for CAJA Script</li>
	<li> First all variables, pages and scripts are loaded and syntax checked. Then the Test commands are executed. </li>
	<li>Terminology:
		<ul>
			<li>deltavars prints all variable values changed since last deltavars call</li>
		</ul>
	</li>
</ul>
<h1>Test Unit 1</h1>
<h2>Variables</h2>
<p>Defines  initial variables for testing</p>
<table class="testVariables" width="100%" border="3" cellspacing="0" cellpadding="5">
	<tr>
		<th>Var Name</th>
		<th>Var Type</th>
		<th>Repeating</th>
		<th>Initial Value</th>
	</tr>
	<tr>
		<td><p>Name</p>		</td>
		<td>string</td>
		<td>false</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td> Gender</td>
		<td>string</td>
		<td>false</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>Child Name</td>
		<td>string</td>
		<td>true</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>Child Birthday</td>
		<td>date</td>
		<td>true</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>Child Height</td>
		<td>number</td>
		<td>true</td>
		<td>Children height</td>
	</tr>
</table>
<h2>Page Logic</h2>
<p> Defines a named page for testing - all scripts within that page are parsed as a single block and GOTO will find it</p>
<table width="1900" border="3" cellpadding="5" cellspacing="0" class="testPages">
	<tr>
		<th width="100" valign="top">Page Name</th>
		<th width="500" valign="top">Page Logic</th>
		<th width="400" valign="top">Results</th>
		<th width="800" valign="top">JS</th>
	</tr>
	<tr>
		<td valign="top">Syntax Error 1</td>
		<td width="500" valign="top"> 
			<p>IF HASANSWERED([Has alternate guardian TE])</p>
			<p>				GOTO &quot;28. Name Child alternate guardian&quot;</p>
			<p>				END IF</p>
			<p>IF HASANSWERED[Doesn't have alternate guardian TE] </p>
			<p>				GOTO &quot;0.1- Information about witnesses&quot;</p>
			<p>				END IF</p>
		</div></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td valign="top">Syntax Error 2</td>
		<td width="500" valign="top">  
				<p>IF HASANSWERED([Has new Guardian 1 TE]) </p>
				<p>					GOTO &quot;9. Child's Guardian&quot;</p>
				<p>					END IF</p>
				<p>IF HASANSWERED([Doesn't have new Guardian 1 TE]) </p>
				<p>					GOTO [Exit - User does not qualify]</p>
				<p>					END IF</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td valign="top">Syntax Error 3</td>
		<td width="500" valign="top"><p>IF  HASANSWERED([Guardian 1 middle name TE]) </p>
			<p> SET [Guardian 1 full name TE] TO %%[Guardian 1 first name TE]%% + &quot; &quot; +   %%[Guardian 1 middle name TE]%% + &quot; &quot; + %%[Guardian 2 last name   TE]%% </p>
			<p>ELSE</p>
			<p> SET [Guardian 1 full name TE] TO %%[Guardian 1 first name TE]%% + &quot; &quot; + %%[Guardian 1 last name TE]%% </p>
		<p>END IF</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td valign="top">Syntax Error 4</td>
		<td width="500" valign="top"><p>IF HASANSWERED([Declarant SSN TE#]) </p>
			<p> SET [[Declarant SSN TE]] TO ([Declarant SSN TE#]) </p>
		<p> END IF</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td valign="top">Test Numbers</td>
		<td width="500" valign="top"><p>set [income] to 25000</p>
			<p> set [income] to 25,000</p>
			<p> set [income] to $25,000set [income and benefits] to 25,000</p>
			<p> set test to [income and benefits] and income and benefits = true</p>
			<p> set test to 25,000.25 + &quot;65,000 + 125,000&quot; + 5,000</p>
			<p> set test to 25,000.25 + 65,000 + 125,000 + 5,000</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top">Test Logic operators</td>
		<td width="500" valign="top"><p>set v to born or band or anot and not orvil or andy or notty</p>
			<p>				set v to x = y and not (j &lt;&gt;  55)</p>
			<p>				set v to age(user_born)  + age([first child birthdate#child counter]) + hisher ( [user gender] )</p>
			<p>		set v to &quot;this [variable] should not be encoded&quot;</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>Test Dates</p>			</td>
		<td width="500" valign="top">			<p>set birthday TO #12/31/1960# // peanut's first strip?<br> 				
			set anniversary to #12/31/2001#<br>
			set jobdate to &quot;12/12/2012&quot; // in string form<br> 				
			set diffdays to anniversary - birthday<br>
		set info to datemdy([birthday])+&quot; was birthday and &quot; + diffdays + &quot; til anniversery&quot;</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>Mobile - Adoption</p>			</td>
		<td width="500" valign="top"><p>IF [Adoption child agree MC] is &quot;No&quot; <br> 	
			GOTO &quot;9 Adoption dq1&quot;<br> 				
			END IF</p>
			<p>IF [Adoption child agree MC] is &quot;Yes&quot; <br> 				
				GOTO &quot;5-Adoption&quot;<br> 			
		END IF</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>Syntax Error Test for Text Block</p>			</td>
		<td width="500" valign="top"><p>			print The user's name is &lt;b&gt;%%Name%%&lt;/b&gt; or %%name%%. He was born on %%dateMDY(Birthday)%%.	25	+	-10 = %%25+-10%%. Your dollars are $%%dollarRound(pd)%% and your dollars and cents are $%%dollar(pd)%%.&lt;br&gt;<br>
			// Syntax Error: formatting strange<br>
			// Welcome to this interview. %%if age&lt;18 %%You are too young for this%%else%%You may do this%%end if%% interview.<br>
			«if age&lt;18»You are too young to«else»You are old enough to«end if» fill this form.&lt;br&gt;The end.<br>
		set pd  to pd + 5000</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> NYTest2</td>
		<td width="500" valign="top"><p>IF [Client relationship to decedent MC] = &quot;Wife&quot; <br> 				
				SET [Client is distributee spouse TF] TO &quot;true&quot;<br> 				
				SET [Client is distributee TF] TO &quot;true&quot;<br> 				
				END IF</p>
			<p>IF [Client relationship to decedent MC] = &quot;Daughter&quot; <br> 				
				SET [Client is distributee TF] TO &quot;true&quot;<br> 				
				END IF</p>
			<p>IF [Client relationship to decedent MC] = &quot;Other&quot; <br> 				
				GOTO '07d-Other relationship to the decedent'<br> 				
				END IF</p>
			<p>IF [Client relationship to decedent MC] &lt;&gt; &quot;Other&quot; <br> 				
				GOTO '08a-Confirm your relationship'<br> 				
				END IF</p>
			<p>//Note: setting date using a date in string format<br> 				
				SET [Cut off 1996 DA] TO &quot;08/29/1996&quot;<br> 				
				SET [Cut off 2008 DA] TO &quot;12/31/2008&quot;</p>
			<p>IF [Decedent date of death DA] &lt; [Cut off 1996 DA] <br> 				
				GOTO '03a-Date of death'<br> 				
				END IF</p>
			<p>IF  ([Decedent date of death DA] &gt;= [Cut off 1996 DA]) AND ([Decedent date of death DA] &lt;= [Cut off 2008 DA]) <br> 				
				SET [Asset limit NU] TO &quot;20000&quot;<br> 				
				SET [SE-3A form TF] TO &quot;false&quot;<br> 				
				GOTO '04a-Decedent place of death'<br> 				
				ELSE<br> 				
				SET [Asset limit NU] TO &quot;30000&quot;<br> 				
				SET [SE-3A form TF] TO &quot;true&quot;<br> 				
				GOTO '04a-Decedent place of death'<br> 				
				END IF<br>
		</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>IF Nested</p>			</td>
		<td width="500" valign="top"><p>set x=14</p>
			<p>					set y=15</p>
			<p>if x&gt;5 				
			</p>
			<p> set val=1			</p>
			<p>else if x&gt;2 				
			</p>
			<p>set val=2			</p>
			<p>if y&gt;5
			</p>
			<p>set valy=&quot;big&quot; 				
			</p>
			<p>else			</p>
			<p>set valy=&quot;small&quot; 				
			</p>
			<p>end if			</p>
			<p>else			</p>
			<p>set val=3		</p>
		<p>end if</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top">Introduction 1 of 4</td>
		<td width="500" valign="top"><p> // Set intitial variables</p>
			<p>				set Name        to  &quot;Charlie&quot;</p>
			<p>				set paragraph to &quot;English, Spanish: ¿Es Inglés?, Russian: Является?, Vietnamese: Đây có phải Anh?, Portuguese: É isto Inglês?, Haitian Creole: Èske sa se vrèman angle?, Simplified Chinese: 这是真的在另一种语言编写吗？&quot;<br />
			</p>
			<p>set [Last Name] to &quot;Brown&quot;</p>
			<p>				set name#2 to &quot;Name 2&quot;<br />
			</p>
			<p>set name#child to &quot;Name 2&quot;<br />
			</p>
			<p>// set [Last Name#2] to &quot;Name 2  // unterminated! <br />
			</p>
			<p>set [Last Name#child] to &quot;Name 2&quot;<br />
			</p>
			<p>set a to [child name] +  [child name#2] +   [child name#child counter]<br />
			</p>
			<p>set Gender  to  &quot;male&quot;<br />
				</p>
			<p>set PD  to  259.51<br />
				</p>
			<p>set v to age(5) + age([child birthday]) + age([child birthday#1]) + age([child birthday#counter])<br />
				</p>
			<p>set v to &quot;what is vv&quot; + vv +&quot;VV&quot; + &quot;?&quot;</p>
		<p>deltavars</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>05b-Grandchild</p>			</td>
		<td width="500" valign="top">&nbsp;</td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> Counter Test</td>
		<td width="500" valign="top"><p>SET [g_count] TO 0<br />
	IF [Decedent has dead children TF] = &quot;true&quot; <br />
				GOTO '05b-Grandchild'<br />
				ELSE<br />
				GOTO '06-LOGIC STEP'<br />
				END IF</p>
		<p>deltavars</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"><p>06-LOGIC STEP</p>
			<p></p></td>
		<td width="500" valign="top"><p>&nbsp;</p>
		</td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> Birth</td>
		<td width="500" valign="top"><p>			set Name to &quot;Mr. Является&quot;</p>
			<p>set birthday to #1/1/2001#</p>
			<p>				set pet  to &quot;Snoopy&quot; +&quot; &quot;+ [last name]</p>
		</td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top">Birth 2</td>
		<td width="500" valign="top"><p>SET birthday TO #12/31/1960# // peanut's first strip?<br />
				set anniversary to #12/31/2001#<br />
				set diffdays to anniversary - birthday<br />
				set info to datemdy([birthday])+&quot; was birthday and &quot; + diffdays + &quot; til anniversery&quot;</p>
			<p>set info to name + &quot;'s gender is &quot; + gender + &quot; and &quot;+hisher(gender) +&quot; gender HeShe() is &quot; + heshe(gender) +&quot;.&quot;<br />
				GOTO &quot;Child info 1.2&quot; // &quot;+MyNextPageDest //comment<br />
				// the code below should never execute<br />
		set info to &quot;This value should not be set&quot;</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> Child info 1.2</td>
		<td width="500" valign="top"><p>				set c_count to 1<br />
				set [Child first name TE#1] to &quot;Jack&quot;<br />
				set [Child last name#c_count] to &quot;Smith&quot;<br />
				print Is %%[Child first name TE#c_count]%% %%[Child last name TE#c_count]%% a non-marital child?</p>
			<p>deltavars</p>
			<p>if num&lt;4 and (not num&lt;10) <br />
				GOTO  BigNum<br />
				end if</p>
		<p>GOTO 'Section 2' // skip to section 2</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> Syntax Error - With bad If</td>
		<td width="500" valign="top"><p>				// Syntax Error: Missing an end if, should be error flagged<br />
				if x=5<br />
				set y=93<br />
				else<br />
				</p>
			<p>// Syntax Error: unknown command</p>
			<p>		eraseAllAnswers</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> Bad IF</td>
		<td width="500" valign="top"><p>// ERROR: missing an endif</p>
		<p>if missingAnEndif</p></td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top">Section 2</td>
		<td width="500" valign="top"><p>			print This is section 2</p>			</td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="100" valign="top"> The End</td>
		<td width="500" valign="top"><p>deltavars</p>			</td>
		<td width="400" valign="top">&nbsp;</td>
		<td width="800" valign="top">&nbsp;</td>
	</tr>
</table> 
<h2>Text Block Tests</h2>
<table width="100%" border="3" cellpadding="5" cellspacing="0" class="testTexts">
	<tr>
		<th width="50%" valign="top">  Text</th>
		<th width="50%" valign="top"> Results</th>
	</tr>
	<tr>
		<td width="50%" valign="top"><p> Is %%[Child first name TE#c_count]%% %%[Child last name TE#c_count]%% a non-marital child? </p>
		</div></td>
		<td width="50%" valign="top">&nbsp;</td>
	</tr>
	<tr>
		<td width="50%" valign="top">English, Spanish: ¿Es Inglés?, Russian: Является?, Vietnamese: Đây có phải Anh?, Portuguese: É isto Inglês?, Haitian Creole: Èske sa se vrèman angle?, Simplified Chinese: 这是真的在另一种语言编写吗？</td>
		<td width="50%" valign="top">&nbsp;</td>
	</tr>
</table>
<p>&nbsp;</p>
<h2>Tests </h2>
<p>Define testing </p>
<table class="testTests"  width="100%" border="3" cellspacing="0" cellpadding="5">
	<tr>
		<th>Test Name</th>
		<th>Test Command</th>
		<th>Results</th>
	</tr>
	<tr>
		<td><p>Start</p></td>
		<td>Goto FirstPage</td>
		<td>&nbsp;</td>
	</tr>
	<tr>
		<td>&nbsp; </td>
		<td>&nbsp; </td>
		<td>&nbsp;</td>
	</tr>
</table><h2>Result Log</h2>
<ul class="ScriptTrace">a</ul> 
		<div class="evaluator"><input name="ev" style="width:100%" type="text" id="ev" value="(1+2)=(3-1)" size="40" />
			<input onclick="update()" type="submit" name="evaluate" id="evaluate" value="Evaluate" /></div> 
</div>

</BODY>
</HTML>

