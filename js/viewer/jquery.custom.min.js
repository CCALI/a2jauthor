/*
	CALI Author 5 / A2J Author 5 (CAJA) 正义 * công lý * правосудие
	All Contents Copyright The Center for Computer-Assisted Legal Instruction
*/
jQuery.fn.xml=function(b){var a="";this.length&&("undefined"!=typeof b&&b?this:jQuery(this[0]).contents()).each(function(){a+=window.ActiveXObject?this.xml:(new XMLSerializer).serializeToString(this)});return a};(function(b){b.widget("ui.combobox",{_create:function(){var a,f=this,d=!1,e=this.element.hide(),c=e.children(":selected"),c=c.val()?c.text():"",g=this.wrapper=b("<span>").addClass("ui-combobox").insertAfter(e);a=b("<input>").appendTo(g).val(c).attr("title","").addClass("ui-state-default ui-combobox-input").autocomplete({delay:0,minLength:0,source:function(a,c){var d=RegExp(b.ui.autocomplete.escapeRegex(a.term),"i");c(e.children("option").map(function(){var c=b(this).text();if(this.value&&(!a.term||
d.test(c)))return{label:c.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.ui.autocomplete.escapeRegex(a.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:c,option:this}}))},select:function(a,b){b.item.option.selected=!0;f._trigger("selected",a,{item:b.item.option})},change:function(c,d){if(!d.item){var f=b(this).val(),g=RegExp("^"+b.ui.autocomplete.escapeRegex(f)+"$","i"),h=!1;e.children("option").each(function(){if(b(this).text().match(g))return this.selected=h=!0,!1});h||(b(this).val("").attr("title",
f+" didn't match any item").tooltip("open"),e.val(""),setTimeout(function(){a.tooltip("close").attr("title","")},2500),a.data("ui-autocomplete").term="")}}}).addClass("ui-widget ui-widget-content ui-corner-left");a.data("ui-autocomplete")._renderItem=function(a,c){return b("<li>").append("<a>"+c.label+"</a>").appendTo(a)};b("<a>").attr("tabIndex",-1).attr("title","Show All Items").tooltip().appendTo(g).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("ui-corner-right ui-combobox-toggle").mousedown(function(){d=
a.autocomplete("widget").is(":visible")}).click(function(){a.focus();d||a.autocomplete("search","")});a.tooltip({tooltipClass:"ui-state-highlight"})},_destroy:function(){this.wrapper.remove();this.element.show()}})})(jQuery);(function(b){b.widget("ui.traggable",b.ui.mouse,{version:"1",widgetEventPrefix:"trag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,scaledParent:!1,z:1},_create:function(){this._mouseInit();this.z=this.options.z},
_destroy:function(){this._mouseDestroy()},_mouseCapture:function(a){this.eventCurrent={x:a.pageX,y:a.pageY};return!0},_mouseStart:function(a){this.target=b(a.target).closest(".node");return!0},_mouseDrag:function(a){this._moveItem(this.target,this.eventCurrent.x-a.pageX,this.eventCurrent.y-a.pageY);this.eventCurrent={x:a.pageX,y:a.pageY};return!0},_mouseStop:function(a){this._trigger("stop",a,{node:this.target,position:{left:parseFloat(this.target.css("left")),top:parseFloat(this.target.css("top"))}});
return!1},_mouseUp:function(a){return b.ui.mouse.prototype._mouseUp.call(this,a)},_moveItem:function(a,b,d){var e=parseFloat(a.css("left")),c=parseFloat(a.css("top"));isNaN(e)&&(e=a.offset().left);isNaN(c)&&(c=a.offset().top);b*=1/this.z;d*=1/this.z;a.css({left:e-b,top:c-d})},changeScale:function(a){this.z=a;a="scale("+this.z+")";console.log(a);this.element.css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a})}})})(jQuery);
